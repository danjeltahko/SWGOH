<!-- form.html -->

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>GAC Planner</title>
    <link rel="stylesheet" href="/static/css/style.css" />
    <script type="module" src="/static/js/character_selection.js"></script>
    <script type="module" src="/static/js/suggestions.js"></script>
    <script type="module" src="/static/js/zone_creation.js"></script>
    <script type="module" src="/static/js/form_helpers.js"></script>
    <script type="module" src="/static/js/form_handling.js"></script>
    <script type="module" src="/static/js/main.js"></script>
    <script type="module" src="/static/js/presets.js"></script>
  </head>
  <body>
    <div class="sidebar">
      <h2>GAC Planner</h2>
      <label for="allyCode">Ally Code</label>
      <input
        type="text"
        id="allyCode"
        name="allyCode"
        placeholder="Enter Ally Code"
      />

      <label for="minGear">Minimum Gear Level</label>
      <input
        type="number"
        id="minGear"
        name="minGear"
        min="1"
        max="13"
        value="1"
      />

      <label for="mode">Mode</label>
      <div class="toggle-switch">
        <input
          type="checkbox"
          id="modeToggle"
          name="mode"
          checked
          onchange="changeMode(this)"
        />
        <label class="slider" for="modeToggle"></label>
      </div>

      <label for="rank">Rank</label>
      <select id="rank" name="rank">
        <option value="kyber">Kyber</option>
        <option value="erodium">Erodium</option>
        <option value="chromium">Chromium</option>
        <option value="bronzeium">Bronzeium</option>
        <option value="carbonite">Carbonite</option>
      </select>

      <!-- Presets Buttons -->
      <div class="presets-buttons">
        <button
          type="button"
          id="savePresetsButton"
          class="button"
          onclick="savePresets()"
        >
          Save Presets
        </button>
        <input
          type="file"
          id="importPresetsInput"
          accept=".json"
          style="display: none"
          onchange="importPresets(event)"
        />
        <button
          type="button"
          id="importPresetsButton"
          class="button"
          onclick="document.getElementById('importPresetsInput').click()"
        >
          Import Presets
        </button>
      </div>

      <form id="gacForm" onsubmit="submitForm(event)">
        <input type="submit" value="Calculate" class="button" />
      </form>
    </div>

    <div class="main-content">
      <!-- User Defense Container -->
      <div id="userDefenseContainer" class="teams-container">
        <h3>Your Defense Teams</h3>
        <!-- User defense teams will be added here -->
      </div>

      <!-- Opponent's Defense Zones -->
      <div id="zonesContainer">
        <!-- Zones will be added here -->
      </div>

      <!-- User Attack Teams -->
      <div id="userAttackContainer" class="teams-container">
        <h3>Your Attack Teams</h3>
        <!-- Attack teams will be added here -->
      </div>
    </div>

    <script type="module">
      import { initCharacterData } from "/static/js/suggestions.js";
      import {
        createZones,
        createUserDefense,
      } from "/static/js/zone_creation.js";
      import { updateForm } from "/static/js/main.js";

      // Initialize character data
      initCharacterData();

      // Initial form setup
      updateForm();
    </script>
  </body>
</html>
